#include_once <stir_spread.afl>
#include <z_score.afl>
#include <volatility_filter.afl>

#include_once <z_score.afl>

lookback = 10;//Optimize("lb", 10, 4, 10, 2);
zz = zscore(ROC(C,1),lookback) ;
zs = zscore(StDev(C,lookback), lookback) ;
zcomb = (zz+zs)/2;
PositionScore = zcomb;

Short = volume_filter && high_volatility_filter  && Cross( zcomb, -1 );
Buy = Sell = Cover = False;

//Plot( zscore(zcomb,10), "Z comb", colorTeal);