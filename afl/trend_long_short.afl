#include_once <stir_spread.afl>
#include <z_score.afl>
#include <volatility_filter.afl>

#include_once <z_score.afl>

down_today = ROC(C,1) < 0;
zv = zscore( StDev( ROC(C,1), lookback), lookback);
vt = 1.85;//Optimize("vt",1,1,2,0.1);
volatility_filter = zv > -vt && zv < vt;

Short = volume_filter && volatility_filter  && down_today && volatility_filter;
Buy = volatility_filter &&  volume_filter && volatility_filter && ROC(C,1) > 0;
Cover = Sell = False;