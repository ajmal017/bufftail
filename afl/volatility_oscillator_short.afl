#include_once <stir_spread.afl>
#include <z_score.afl>
#include <volatility_filter.afl>


lookback = Optimize("lb", 10, 5, 10, 1);
volatility_filter = StDev(C,lookback) >= HHV(StDev(C,lookback),lookback);
ocs = RSI(lookback);
downtrend = ROC(C,lookback) <= 0;//LLV(ROC(C,1),lookback);

PositionScore = StDev(C,lookback) * ROC(C,lookback) ;
Short = downtrend && volatility_filter;
Buy = Sell = Cover = False;