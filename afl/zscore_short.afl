#include_once <stir_spread.afl>
#include <z_score.afl>
#include <volatility_filter.afl>

zz = zscore(ROC(C,1),lookback) ;
th = -1.65;//Optimize("th",-1,-2,-1,0.1);
// zz <= th && zz <= Ref(zz,-1);
// && O < MA(C,lookback)

Short = volume_filter && volatility_filter  && Cross(th, zz);
Buy = Sell = Cover = False;